# 总结06：树

# 自定义术语映射

| 名称                        | 代号   | 说明                       |
| --------------------------- | ------ | -------------------------- |
| 时间复杂度                  | O(t)   |                            |
| 空间复杂度                  | O(s)   |                            |
| 前提                        | qt     |                            |
| 流程                        | lc     |                            |
| 目的                        | md     |                            |
| 说明                        | sm     |                            |
| 情况                        | qk     |                            |
| 算法                        | #sf    |                            |
| 结构                        | #jg    |                            |
| 解决思路                    | #sl    |                            |
| 多方法：multi-method        | #MM    | 该题可用多种相同优质的方法 |
| 循环表示次数                | @xh2   | 两次循环（1次可省略）      |
| 循环表示层数                | @xh#2  | 两层循环（1层可省略）      |
| 遍历                        | ~bl2   | 两次遍历（1次可省略）      |
| 优化                        | ~yh    |                            |
| 对应序号                    | 1=题目 | 序号一样的代表一样的题型   |
| 解答                        | ~jd    | 需要看解答的题目           |
| 第n种方法                   | ~ff-n  | 一道题的不同方法标识符     |
| 有/无问题 优化/劣质（以下） |        |                            |
| 效率                        | ~+-xl  | 高效率/低效率的方法        |
| 细节                        | ~+-xj  | 在某些细节处理需要注意     |
| 代码                        | ~+-dm  | 代码实现上没问题/存在问题  |
| 思维逻辑                    | ~+-sl  | 思维逻辑上存在难度的题目   |
| 知识点                      | ~+-zs  | 有需掌握的知识点           |
| 存在问题                    | ~+-qe  | 未解决的问题               |

# 题表1：方法-思路-题型

| 名称：代号                         | 类型         | 需求                             | 前提                                                 | 运用场景                                                     | 功能                  | 题型                                                         |
| ---------------------------------- | ------------ | -------------------------------- | ---------------------------------------------------- | ------------------------------------------------------------ | --------------------- | ------------------------------------------------------------ |
| 查找：Sear                         | #sf          | 查找                             | 求和target                                           |                                                              | 忽略：x不可与自己匹配 |                                                              |
| 二分查找：BSear                    | #sf          | 查找                             | 排序                                                 |                                                              | #yh：O(t)             |                                                              |
| 二分查找-插入位置：BSear-Pos       | #sf          | 找target，如果不在找对应插入位置 | 排序                                                 |                                                              |                       |                                                              |
| 二分查找-双数组：BSear-BArr        | #sf          | 查找第k大的元素                  | 排序                                                 |                                                              | 优化：O(t)            |                                                              |
| 双指针-滑动窗口：TP-Win            | #sl          |                                  |                                                      | 在某些遍历规则下可以运用                                     |                       |                                                              |
| 双指针-异向：TP-DD                 | #sl          | 遍历                             | 排序<br />一增一减                                   | 遍历时需要判断性的左增或者右减                               | 优化：O(t)            |                                                              |
| 双指针-同向：TP-SD<br />+覆盖：-fg | #sl          | 遍历                             | 排序                                                 | qk1：遍历时需要记录一些之前的位置时                          | 优化：O(s)            |                                                              |
| 双指针-同向-反向：TP-SD-RD         | #sl          | 遍历                             | 排序                                                 | 从后往前遍历                                                 | 优化：O(s)            |                                                              |
| 双指针-同向-快慢：TP-FS            | #sl          | 遍历                             |                                                      | 由快针的边界条件找慢针对应的位置                             |                       |                                                              |
| 双指针-位置：TP-Loc                | #jg          | 遍历                             |                                                      | 记录对应位置在符合条件的时候调用                             |                       |                                                              |
| 下一个排列：NP                     | #sl          |                                  |                                                      |                                                              |                       |                                                              |
| 哈希表-Set：HX-S                   | #jg          | ~bl                              | 0                                                    | 0                                                            | ~yh：O(t)             |                                                              |
| 哈希表-Map：HX-M                   | #jg          | ~bl                              | 0                                                    | 0                                                            | ~yh：O(t)             |                                                              |
| 哈希-前缀：HX-Pre                  | #sl          | ~bl                              |                                                      | 适用于求连续子数组相关的问题                                 |                       |                                                              |
| 排序：Sort                         |              | 排序                             |                                                      |                                                              | ~yh：O(t)             |                                                              |
| 排序-堆：Sort-Heap                 |              |                                  |                                                      |                                                              |                       |                                                              |
| 排序-归并：Sort-Merge              | #sf          | 排序                             |                                                      |                                                              |                       |                                                              |
| 自定义规则排序：Sort-Rule          | #sf          | 自定义排序规则                   |                                                      | #sl                                                          |                       |                                                              |
| 规则拆分：Di-Rule                  | #sl          | ~bl                              | 拆分后的规则互相不影响<br />拆分用的规则可组成原规则 | 需要将规则拆分成一个一个单一的可逐步实现的规则               |                       |                                                              |
| 深度优先遍历：DFS                  | #sf          | ~bl                              | 类图的2维遍历                                        |                                                              |                       |                                                              |
| 广度优先遍历：BFS                  | #sf          | ~bl                              | 类图的2维遍历                                        |                                                              |                       | ML102：二叉树的层序遍历<br />ML199：二叉树的右视图<br />MO032：从上到下打印二叉树 III<br />MO032-1：从上到下打印二叉树<br />EO032-2：从上到下打印二叉树 II |
| 条件判断：Cod                      | #sl          | #sl                              | 分情况讨论                                           | 分情况讨论，往往还需要其他的结构或者思路                     |                       |                                                              |
| 数组引索：Arr-Idx                  | #sl          | #sl                              |                                                      |                                                              | ~yh：O(s)             |                                                              |
| 数组前缀和：Arr-PreSum             | #sl          | ~bl                              |                                                      |                                                              |                       |                                                              |
| 回溯-置换：BT-S                    | #sf          | ~bl                              |                                                      | 逐层遍历并恢复原状                                           |                       |                                                              |
| 回溯-条件：BT-Cd                   | #sf          | ~bl                              |                                                      | 条件判断是否回溯                                             |                       | EL404：左叶子之和<br />ML113： 路径总和 II                   |
| 回溯-全部：BT-All                  | #sf          | ~bl                              |                                                      | 遍历所有情况                                                 |                       | MO034：二叉树中和为某一值的路径                              |
| 回溯-不回：BT-NO                   | #sf          | ~bl                              |                                                      | 回溯原理，操作中不回滚数据，因此数据不可重用                 |                       |                                                              |
| 动态规划-设为边界：DP-Bd           | #sf          | ~bl                              |                                                      | 每次遍历更新状态                                             |                       |                                                              |
| 动态规划-背包：DP-Bg               | #sf          | ~bl                              |                                                      | 限制值求极值                                                 |                       |                                                              |
| 动态规划-状态：DP-St               | #sf          | ~bl                              |                                                      | 枚举所有单个子问题的状态 求得状态方程<br />状态1：独立状态<br />状态2：关系状态 |                       | ML96：不同的二叉搜索树<br />ML337：打家劫舍 III              |
| 动态规划-情况：DP-Cd               | #sf          | -bl                              |                                                      | 分情况讨论得出不同情况下的子结构最优解                       |                       |                                                              |
| 位运算：Bit<br />+异或：-XOR       | #sl          |                                  |                                                      | 消除偶数相同数                                               |                       |                                                              |
| 模拟：MN                           | #sl          |                                  |                                                      | 模拟                                                         |                       |                                                              |
| 贪心：TX                           | #sl          |                                  |                                                      | 最优子结构推出最优解                                         |                       |                                                              |
| 单调栈：STK-Mono                   | #jg<br />#sl | ~bl                              |                                                      | 适用于cur与pre多个数进行比较并且操作                         |                       |                                                              |
| 栈-功能：STK-Fun                   | #sl          |                                  |                                                      | 实现或利用栈的功能但并不一定用Stack结构来实现                |                       |                                                              |
| 递归：RC                           | #sl          |                                  |                                                      | 当某一系列代码执行流程需要重复多次使用时                     |                       | HL124：二叉树中的最大路径和<br />EL226：翻转二叉树<br />EL543：二叉树的直径<br />ML103：二叉树的锯齿形层序遍历<br />ML106：从中序与后序遍历序列构造二叉树<br />EL104：二叉树的最大深度<br />ML236：二叉树的最近公共祖先<br />MO026：树的子结构 |
| 递归-自定义：RC-C                  |              |                                  |                                                      |                                                              |                       | ML098：验证二叉搜索树<br />ML105：从前序与中序遍历序列构造二叉树<br />MO007：重建二叉树<br />EL145：二叉树的后序遍历<br />EL094：二叉树的中序遍历<br />EL110：平衡二叉树<br />ML129：求根节点到叶节点数字之和<br />ML652：寻找重复的子树<br />ML257：二叉树的所有路径<br />ML109：有序链表转换二叉搜索树<br />EL108：将有序数组转换为二叉搜索树<br />EL100：相同的树<br />ML107：二叉树的层序遍历 II<br />EO2-068：二叉树的最近公共祖先<br />ML654：最大二叉树<br />EL144：二叉树的前序遍历<br />EO027：二叉树的镜像<br />EL589：N 叉树的前序遍历 |
| 递归-条件：RC-CD                   |              |                                  |                                                      |                                                              |                       | ML450：删除二叉搜索树中的节点<br />MO033：二叉搜索树的后序遍历序列 |
| 递归-二层：RC-D                    |              |                                  |                                                      |                                                              |                       |                                                              |
| 递归-主函数递归：RC-M              |              |                                  |                                                      |                                                              |                       | EL617：合并二叉树<br />EL112：路径总和<br />EO055-1：二叉树的深度 |
| 递归-解耦：RC-DC                   |              |                                  |                                                      |                                                              |                       | ML036：二叉搜索树与双向链表<br />ML114：二叉树展开为链表<br />ML099：恢复二叉搜索树 |
| 递归-比较：RC-VS                   |              |                                  |                                                      |                                                              |                       | EL101：对称二叉树                                            |
| 链表节点-双向：Node-D              | #jg          |                                  |                                                      |                                                              |                       |                                                              |
| 链表节点-单向：Node-S              | #jg          |                                  |                                                      |                                                              |                       |                                                              |
| 迭代：DD                           | #sl          |                                  |                                                      |                                                              |                       |                                                              |
| ArrayList：ALst                    | #jg          |                                  |                                                      |                                                              |                       |                                                              |
| LinkedList：LLst                   | #jg          |                                  |                                                      |                                                              |                       |                                                              |
| 分治：DC                           | #sl          |                                  |                                                      |                                                              | ~yh：O(log(n))        |                                                              |
| 数学思路：Math                     | #sl          |                                  |                                                      | 用一些数学规则计算出解决问题的方法                           |                       |                                                              |
| 结构模型：JG                       | #sl          |                                  |                                                      |                                                              |                       |                                                              |
| 逻辑思路：LG                       | #sl          |                                  |                                                      |                                                              |                       | 1=HL297：二叉树的序列化与反序列化<br />1=HO037：序列化二叉树<br />HL987：二叉树的垂序遍历 |
| String                             | #sl          |                                  |                                                      | String的相关方法和技巧                                       |                       |                                                              |
| DFA                                | #sl          |                                  |                                                      | 确定有限状态机                                               |                       |                                                              |
| 传世经典：CS                       | #sf          |                                  |                                                      | 传世经典                                                     |                       |                                                              |
|                                    |              |                                  |                                                      |                                                              |                       |                                                              |

# 题表2：功能-思路-优化

| #    | 题型样例                              | 技术代码 | 思路码点 | 时间/空间 | 优化             |
| ---- | ------------------------------------- | -------- | -------- | --------- | ---------------- |
| 1    | ML102：二叉树的层序遍历               | BFS      | #sf      |           |                  |
| 2    | HL124：二叉树中的最大路径和           | RC       | #sf      |           |                  |
| 3    | EL226：翻转二叉树                     | RC       | #sf      |           |                  |
| 4    | EL543：二叉树的直径                   | RC       | #sf      |           |                  |
| 5    | ML103：二叉树的锯齿形层序遍历         | RC       | #sf      |           |                  |
| 6    | ML106：从中序与后序遍历序列构造二叉树 | RC       | #sf      |           |                  |
| 7    | EL104：二叉树的最大深度               | RC       | #sf      |           |                  |
| 8    | ML236：二叉树的最近公共祖先           | RC       | #sf      |           |                  |
| 9    | ML96：不同的二叉搜索树                | DP-St    | #sf      |           |                  |
| 10   | MO026：树的子结构                     | RC       | #sf      |           |                  |
| 11   | ML098：验证二叉搜索树                 | RC-1     | #sf #sl  |           |                  |
| 12   | EL101：对称二叉树                     | RC-VS    | #sl      |           |                  |
| 13   | EL617：合并二叉树                     | RC-M     | #sf      |           |                  |
| 14   | ML105：从前序与中序遍历序列构造二叉树 | RC-C     | #sf      |           |                  |
| 15   | EL112：路径总和                       | RC-M     | #sf      |           | 主递归大于自递归 |
| 16   | ML337：打家劫舍 III                   | DP-ST    | #sf      |           |                  |
| 17   | MO007：重建二叉树                     | RC-C     | #sf      |           |                  |
| 18   | EL145：二叉树的后序遍历               | RC-C     | #sf      |           |                  |
| 19   | ML036：二叉搜索树与双向链表           | RC-DC    | #sf      |           |                  |
| 20   | HL297：二叉树的序列化与反序列化       | LG       | #sl      |           |                  |
| 21   | ML095：不同的二叉搜索树 II            | BT-NO    | #sf      |           |                  |
| 22   | MO034：二叉树中和为某一值的路径       | BT-ALL   | #sf      |           |                  |
| 23   | EL404：左叶子之和                     | BT-CD    | #sf      |           |                  |
| 24   | EL094：二叉树的中序遍历               | RC-C     | #sf      |           |                  |
| 25   | EL110：平衡二叉树                     | RC-C     | #sf      |           |                  |
| 26   | ML113： 路径总和 II                   | BT-CD    | #sf      |           |                  |
| 27   | ML863：二叉树中所有距离为 K 的结点    | RC-C     | #sf      |           |                  |
| 28   | ML129：求根节点到叶节点数字之和       | RC-C     | #sf      |           |                  |
| 29   | ML652：寻找重复的子树                 | RC-C     | #sf #sl  |           |                  |
| 30   | HO037：序列化二叉树                   | LG       | #sf      |           |                  |
| 31   | ML257：二叉树的所有路径               | RC-C     | #sf      |           |                  |
| 32   | ML199：二叉树的右视图                 | BFS      | #sf      |           |                  |
| 33   | HL987：二叉树的垂序遍历               | LG       | #sf      |           |                  |
| 34   | ML109：有序链表转换二叉搜索树         | RC-C     | #sf      |           | 中序遍历优化     |
| 35   | EL108：将有序数组转换为二叉搜索树     | RC-C     | #sf      |           | 同ML109          |
| 36   | EL100：相同的树                       | RC-C     | #sf      |           |                  |
| 37   | ML107：二叉树的层序遍历 II            | RC-C     | #sf      |           |                  |
| 38   | EO2-068：二叉树的最近公共祖先         | RC-C     | #sf #sl  |           |                  |
| 39   | ML654：最大二叉树                     | RC-C     | #sf      |           |                  |
| 40   | EL144：二叉树的前序遍历               | RC-C     | #sf      |           |                  |
| 41   | EO027：二叉树的镜像                   | RC-C     | #sf      |           |                  |
| 42   | ML450：删除二叉搜索树中的节点         | RC-CD    | #sf      |           |                  |
| 43   | MO032-3：从上到下打印二叉树 III       | BFS      | #sf      |           |                  |
| 44   | EO055-1：二叉树的深度                 | RC-M     | #sf      |           |                  |
| 45   | MO033：二叉搜索树的后序遍历序列       | RC-CD    | #sf      |           |                  |
| 46   | MO032-1：从上到下打印二叉树           | BFS      | #sf      |           |                  |
| 47   | ML114：二叉树展开为链表               | RC-DC    | #sf      |           |                  |
| 48   | ML099：恢复二叉搜索树                 | RC-DC    | #sf      |           |                  |
| 49   | EO032-2：从上到下打印二叉树 II        | BFS      | #sf      |           |                  |
| 50   | EL589：N 叉树的前序遍历               | RC-C     | #sf      |           |                  |

# 题表3：题序-技巧-注意

| 注释    | 题号    | 名称                           | 技巧or注意                                                   |
| ------- | ------- | ------------------------------ | ------------------------------------------------------------ |
|         | EL094   | 二叉树的中序遍历               |                                                              |
| ~jd     | ML095   | 不同的二叉搜索树 II            | 属于数据不回滚的一种情况                                     |
| ~jd     | ML096   | 不同的二叉搜索树               | 1. 对DP的敏感程度需要加强<br />2. RC有时可以变成DP           |
|         | ML098   | 验证二叉搜索树                 |                                                              |
|         | ML099   | 恢复二叉搜索树                 |                                                              |
|         | EM100   | 相同的树                       |                                                              |
| ~jd     | EL101   | 对称二叉树                     | ZXS~jd：递归中的简单比较运用                                 |
|         | ML102   | 二叉树的层序遍历               |                                                              |
|         | ML103   | 二叉树的锯齿形层序遍历         |                                                              |
|         | EL104   | 二叉树的最大深度               |                                                              |
|         | ML105   | 从前序与中序遍历序列构造二叉树 |                                                              |
|         | ML106   | 从中序与后序遍历序列构造二叉树 |                                                              |
|         | ML107   | 二叉树的层序遍历 II            |                                                              |
|         | EL108   | 将有序数组转换为二叉搜索树     |                                                              |
| ~yh     | ML109   | 有序链表转换二叉搜索树         | 中序遍历优化                                                 |
|         | EL110   | 平衡二叉树                     |                                                              |
| ~dm     | EL112   | 路径总和                       | 主递归大于自递归                                             |
|         | ML113   | 路径总和 II                    |                                                              |
|         | ML114   | 二叉树展开为链表               |                                                              |
|         | HL124   | 二叉树中的最大路径和           |                                                              |
|         | ML129   | 求根节点到叶节点数字之和       |                                                              |
|         | EL144   | 二叉树的前序遍历               |                                                              |
|         | EL145   | 二叉树的后序遍历               |                                                              |
|         | ML199   | 二叉树的右视图                 |                                                              |
|         | EL226   | 翻转二叉树                     |                                                              |
|         | ML236   | 二叉树的最近公共祖先           |                                                              |
|         | ML257   | 二叉树的所有路径               |                                                              |
| ~zs     | HL297   | 二叉树的序列化与反序列化       | 1. DeQueue不能offer(null)，改用Queue<br />2. 用TN[]时间优于List\<TN> |
| ~jd     | ML337   | 打家劫舍 III                   | 深度优先遍历+从下往上处理数据                                |
|         | EL404   | 左叶子之和                     |                                                              |
|         | ML450   | 删除二叉搜索树中的节点         |                                                              |
|         | ML589   | N 叉树的前序遍历               |                                                              |
| ~jd     | EL617   | 合并二叉树                     | 解答思路时间上比较好                                         |
| ~jd     | ML652   | 寻找重复的子树                 | 二叉树序列化的运用                                           |
|         | ML654   | 最大二叉树                     |                                                              |
| ~jd     | ML863   | 二叉树中所有距离为 K 的结点    | 思路需要更清晰                                               |
|         | HL987   | 二叉树的垂序遍历               |                                                              |
|         |         |                                |                                                              |
|         | MO007   | 重建二叉树                     |                                                              |
| ~sl ~jd | MO026   | 树的子结构                     | ZXS+~SL:题目中可能有重复数字需要妥善考虑<br />~jd：（有时需要考虑）二层递归，递归主函数和自定义递归函数（妙） |
|         | EO027   | 二叉树的镜像                   |                                                              |
|         | MO032-1 | 从上到下打印二叉树             |                                                              |
|         | MO032-2 | 从上到下打印二叉树 II          |                                                              |
|         | MO032-3 | 从上到下打印二叉树 III         |                                                              |
|         | MO033   | 二叉搜索树的后序遍历序列       |                                                              |
|         | MO034   | 二叉树中和为某一值的路径       |                                                              |
|         | MO036   | 二叉搜索树与双向链表           |                                                              |
|         | HO037   | 序列化二叉树                   |                                                              |
|         | EO055-1 | 二叉树的深度                   |                                                              |
|         |         |                                |                                                              |
| ~sl     | EO2-068 | 二叉树的最近公共祖先           | 同LC236<br />注意思路                                        |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |
|         |         |                                |                                                              |

# 功能流程

| 代号 | 流程 |
| ---- | ---- |
|      |      |
|      |      |
|      |      |
|      |      |
|      |      |
|      |      |

# 零散知识

| 名称：代号 | 详细说明 | 作用 |
| ---------- | -------- | ---- |
|            |          |      |
|            |          |      |
|            |          |      |

# 代码功能最优实现方法

| 功能代号：代号      | 功能需求                 | 功能实现                                                     |
| ------------------- | ------------------------ | ------------------------------------------------------------ |
| 遍历递归思路：RC-SL | 解答一般遍历题的基本思路 | 1. 标准遍历（一层递归，递归同时处理）速度一般，其中主函数自己递归快于自定义递归（RC-M>RC-C）<br />2. 2层遍历（主函数遍历，自定义递归遍历）<br />3. 主递分离（递归收集信息，主函数处理）：速度慢 |
|                     |                          |                                                              |
|                     |                          |                                                              |
|                     |                          |                                                              |
|                     |                          |                                                              |
|                     |                          |                                                              |
|                     |                          |                                                              |

# Q&A

| Detail | Q    | A    |
| ------ | ---- | ---- |
|        |      |      |
|        |      |      |
|        |      |      |
